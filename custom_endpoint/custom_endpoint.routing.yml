custom_endpoint.jsonapi:
  path: '/api/currentuser'
  defaults:
    _controller: '\Drupal\custom_endpoint\Controller\CustomEndpointController::renderApi'
    _title: 'Current user data'
  methods: ['GET']
  requirements:
    _user_is_logged_in: 'TRUE'
 